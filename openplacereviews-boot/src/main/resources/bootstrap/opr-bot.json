[
  {
    "type" : "sys.bot",
    "create" : [{
      "id" : ["osm-sync"],
      "api" : "org.openplacereviews.osm.service.PublishBot",
      "threads": 4,
      "blockchain-config": {
          "places_per_operation": 250,
          "operations_per_block": 16,
          "type": "opr.place"
      },
      "config": {
      	"url" : {
        	"overpass_timestamp" : "http://builder.osmand.net:8083/api/timestamp",
        	"overpass": "http://builder.osmand.net:8083/api/interpreter"
      	},
        "match-id" : "set:all(opr:place_loc(.lat, .lon), str:first_non_empty(.tags.amenity, .tags.leisure), opr:simple_name(.tags.name))",
        "mapping": {
        	"lat":"source.osm[0].lat",
        	"lon":"source.osm[0].lon",
        	"tags":"source.osm[0].tags"
      	},
      	"osm-tags" : {
      		"amenity" : {
      			"values" : ["cafe","bar","restaurant","biergarten","fast_food","food_court","ice_cream","pub"],
      			"type" : ["node"]
      		},
      		"tourism" : {
      			"values" : ["hotel","motel","hostel","apartment","guest_house"],
      			"type" : ["node"]
			}      		
      	}
      },
      "bot-state" : {
        "date": "",
        "tags": [{
          "key" : "amenity",
          "value" : ["cafe", "bar", "restaurant", "biergarten", "fast_food", "food_court", "ice-cream"],
          "bbox": "(50.3456,30.3671,50.5580,30.8671)",
          "type" : "node"
        },{
          "key" : "tourism",
          "value" : ["hotel", "motel", "hostel", "apartment", "guest_house"],
          "bbox": "(50.3456,30.3671,50.5580,30.8671)",
          "type" : "node"
        }]
      }
    }]
  }
//
//  {
//        "type" : "sys.bot",
//        "edit" : [{
//          "id" : ["osm-sync"],
//          "change": {
//            "bot-state.tags[0].value" : {"append" : "pub"}
//          },
//          "current" : {
//          }
//        }]
//      }

]